/**
 * Location Module (LITE) for Contact Form 7
 *
 * @ver 1.1.0
 */
(function($){'use strict';var ui_reload=function(){var width=$('.wpcf7').outerWidth();var buttonwidth=$('#cf7-geocode-buttons').outerWidth();buttonwidth=buttonwidth+$('#geocode-reset').outerWidth();var height=$('#cf7-geocode-address').outerHeight();$('#cf7-geocode-address').css("height",height+'px');var height=$('#cf7-geocode-address').outerHeight();$('.cf7-loc-button').css("line-height",height+'px');width=width-buttonwidth-5;$('#cf7-geocode-address').css("width",width)};var map;$(window).load(function(){ui_reload()});$(document).ready(function(e){if($('#cf7-location-map').length){var def_latitude=CF7LM.deflat;var def_longitude=CF7LM.deflng;var def_zoom=parseInt(CF7LM.defzoom);var def_err_msg=CF7LM.def_err_msg;var def_maps_view=CF7LM.mapsView;var cf7_mrkr_enable=CF7LM.show_marker_start_location;map=new GMaps({div:'#cf7-location-map',scrollwheel:!1,mapTypeControl:!1,streetViewControl:!1,lat:def_latitude,lng:def_longitude,zoom:def_zoom,mapType:def_maps_view});if(cf7_mrkr_enable){map.addMarker({lat:def_latitude,lng:def_longitude})}$('#cf7-get-gps').click(function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){var gpslat=position.coords.latitude;var gpslng=position.coords.longitude;GMaps.geocode({lat:gpslat,lng:gpslng,callback:function(results,status){if(status=='OK'){$('#cf7-location-lat').val(gpslat);$('#cf7-location-lng').val(gpslng);var url='http://maps.google.com/maps?z=12&q=loc:';url+=gpslat;url+='+';url+=gpslng;$('#cf7-location-url').val(url);$('#cf7-geocode-address').val(results["0"].formatted_address);map.setCenter(gpslat,gpslng);map.removeMarkers();map.addMarker({lat:gpslat,lng:gpslng,draggable:!0,dragend:function(e){$('#cf7-location-lat').val(e.latLng.lat());$('#cf7-location-lng').val(e.latLng.lng());$('#cf7-location-url').val('http://maps.google.com/maps?z=12&q=loc:'+e.latLng.lat()+'+'+e.latLng.lng());GMaps.geocode({lat:e.latLng.lat(),lng:e.latLng.lng(),callback:function(results,status){if(status=='OK'){$('#cf7-geocode-address').val(results["0"].formatted_address)}}})}});map.setZoom(13)}}})})}});$('#geocode-link').click(function(){var geocodeinput=GMaps.geocode({address:$('#cf7-geocode-address').val(),callback:function(results,status){if(status=='OK'){var latlng=results[0].geometry.location;map.setCenter(latlng.lat(),latlng.lng());$('#cf7-location-lat').val(latlng.lat());$('#cf7-location-lng').val(latlng.lng());var url='http://maps.google.com/maps?z=12&q=loc:';url+=latlng.lat();url+='+';url+=latlng.lng();$('#cf7-location-url').val(url);map.removeMarkers();map.addMarker({lat:latlng.lat(),lng:latlng.lng(),draggable:!0,dragend:function(e){$('#cf7-location-lat').val(e.latLng.lat());$('#cf7-location-lng').val(e.latLng.lng());$('#cf7-location-url').val('http://maps.google.com/maps?z=12&q=loc:'+e.latLng.lat()+'+'+e.latLng.lng());GMaps.geocode({lat:e.latLng.lat(),lng:e.latLng.lng(),callback:function(results,status){if(status=='OK'){$('#cf7-geocode-address').val(results["0"].formatted_address)}}})}});map.setZoom(13)}else{alert(def_err_msg)}}})});$('#cf7-geocode-reset').click(function(){map=new GMaps({div:'#cf7-location-map',scrollwheel:!1,mapTypeControl:!1,streetViewControl:!1,lat:def_latitude,lng:def_longitude,zoom:def_zoom,mapType:def_maps_view});$('#cf7-location-lat').val('');$('#cf7-location-lng').val('');$('#cf7-location-url').val('');$('#cf7-geocode-address').val('')})}});$(window).resize(function(){if($('#cf7-location-map').length){map.refresh();ui_reload()}})})(jQuery)